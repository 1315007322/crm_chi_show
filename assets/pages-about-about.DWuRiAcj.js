var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,s=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable,n=(a,t,s)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):a[t]=s;import{P as o,Q as u,I as d,d as c,q as i,v as f,o as p,a as m,w as y,b as _,e as v,R as h,t as g,K as b,S as x,T as w,h as P,O,U as k,V as j,f as C,M as T,_ as D,G as I,J as q,g as F,i as S}from"./index-CDWrbWXz.js";const E=e=>new Promise(((d,c)=>{var i;o((i=((e,a)=>{for(var t in a||(a={}))l.call(a,t)&&n(e,t,a[t]);if(s)for(var t of s(a))r.call(a,t)&&n(e,t,a[t]);return e})({},e),a(i,t({dataType:"json",responseType:"json",success(a){a.statusCode>=200&&a.statusCode<300?d(a.data):(401===a.statusCode||!e.hideErrorToast&&u({icon:"none",title:a.data.msg||"请求错误"}),c(a))},fail(e){u({icon:"none",title:"网络错误，换个网络试试"}),c(e)}}))))}));E.get=(e,a)=>E({url:e,query:a,method:"GET"}),E.post=(e,a,t)=>E({url:e,query:t,data:a,method:"POST"});function G(e,a={immediate:!1}){const t=d(!1),s=d(!1),l=d(a.initialData),r=()=>{return a=this,r=null,n=function*(){return t.value=!0,e().then((e=>(l.value=e.data,s.value=!1,l.value))).catch((e=>{throw s.value=e,e})).finally((()=>{t.value=!1}))},new Promise(((e,t)=>{var s=e=>{try{o(n.next(e))}catch(a){t(a)}},l=e=>{try{o(n.throw(e))}catch(a){t(a)}},o=a=>a.done?e(a.value):Promise.resolve(a.value).then(s,l);o((n=n.apply(a,r)).next())}));var a,r,n};return a.immediate&&r(),{loading:t,error:s,data:l,run:r}}const J=c({__name:"request",setup(e){const a=d("http://laf.run/signup?code=ohaOgIX"),t=void 0,{loading:s,error:l,data:r,run:n}=G((()=>E.get("/foo",{name:"菲鸽"})),{immediate:!0,initialData:t}),o=()=>{r.value=t};return(e,t)=>{const l=P,u=i(f("wd-button"),O);return p(),m(l,{class:"p-6 text-center"},{default:y((()=>[_(l,{class:"my-2"},{default:y((()=>[v("使用的是 laf 云后台")])),_:1}),_(l,{class:"text-green-400"},{default:y((()=>[v("我的推荐码，可以获得佣金")])),_:1}),_(l,{class:"my-2"},{default:y((()=>[h("a",{class:"my-2",href:b(a),target:"_blank"},g(b(a)),9,["href"])])),_:1}),_(u,{onClick:b(n),class:"my-6"},{default:y((()=>[v("发送请求")])),_:1},8,["onClick"]),_(l,{class:"h-12"},{default:y((()=>[b(s)?(p(),m(l,{key:0},{default:y((()=>[v("loading...")])),_:1})):(p(),x(w,{key:1},[_(l,{class:"text-xl"},{default:y((()=>[v("请求数据如下")])),_:1}),_(l,{class:"text-green leading-8"},{default:y((()=>[v(g(JSON.stringify(b(r))),1)])),_:1})],64))])),_:1}),_(u,{type:"error",onClick:o,class:"my-6",disabled:!b(r)},{default:y((()=>[v("重置数据")])),_:1},8,["disabled"])])),_:1})}}}),A="https://ukw0y1.laf.run/upload";function K(e={}){const a=d(!1),t=d(!1),s=d();return{loading:a,error:t,data:s,run:()=>{k({count:1,success:l=>{a.value=!0;!function({tempFilePath:e,formData:a,data:t,error:s,loading:l}){j({url:A,filePath:e,name:"file",formData:a,success:e=>{t.value=e.data},fail:e=>{s.value=!0},complete:()=>{l.value=!1}})}({tempFilePath:l.tempFilePaths[0],formData:e,data:s,error:t,loading:a})},fail:e=>{t.value=!0}})}}}const M=D(c({__name:"upload",setup(e){const{loading:a,data:t,run:s}=K({user:"菲鸽"});return(e,l)=>{const r=i(f("wd-button"),O),n=P,o=T;return p(),m(n,{class:"p-4 text-center"},{default:y((()=>[_(r,{onClick:b(s)},{default:y((()=>[v("选择图片并上传")])),_:1},8,["onClick"]),b(a)?(p(),m(n,{key:0,class:"text-blue h-10"},{default:y((()=>[v("上传...")])),_:1})):(p(),x(w,{key:1},[_(n,{class:"m-2"},{default:y((()=>[v("上传后返回的接口数据：")])),_:1}),_(n,{class:"m-2"},{default:y((()=>[v(g(b(t)),1)])),_:1}),_(n,{class:"h-80 w-full"},{default:y((()=>[b(t)?(p(),m(o,{key:0,src:b(t)||b(t),mode:"scaleToFill"},null,8,["src"])):C("",!0)])),_:1})],64))])),_:1})}}}),[["__scopeId","data-v-a4280d30"]]),N=D(c({__name:"about",setup(e){const{safeAreaInsets:a}=I();return(e,t)=>{const s=S,l=P,r=q("layout-default-uni");return p(),m(r,null,{default:y((()=>{var e;return[_(l,{class:"bg-white overflow-hidden pt-2 px-4",style:F({marginTop:(null==(e=b(a))?void 0:e.top)+"px"})},{default:y((()=>[_(l,{class:"text-center text-3xl mt-8"},{default:y((()=>[v(" 鸽友们好，我是 "),_(s,{class:"text-red-500"},{default:y((()=>[v("菲鸽")])),_:1})])),_:1}),_(J),_(M)])),_:1},8,["style"])]})),_:1})}}}),[["__scopeId","data-v-b5b2d0c5"]]);export{N as default};
